{"expireTime":9007200836238711000,"key":"transformer-remark-markdown-html-ast-f3e37cf1657245900941013573669bb2-gatsby-remark-prismjsgatsby-remark-images-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Estamos a pocos meses del próximo halving de Bitcoin el 3ero en su corta historia, nadie sabe con exactitud qué podría pasar, la mayoría especulan el precio con predicciones de un 1000 % modestamente, algo que no ocurrirá de un día para otro, por más que nos guste esta idea el tiempo nos ha demostrado que la paciencia es la que paga y este proceso puede demorar años. ","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":371,"offset":372}}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":371,"offset":372}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"El primer halving ocurrió en el 29 de noviembre del 2012, la recompensa por bloque fue reducida de 50 a 25 Bitcoins, el precio de bitcoin de apenas era de $ 12,41 y luego de 366 dias llego a su precio mas alto (All time high) llegando a valorarse en $ 1163, un imcremento del 9301,78 % ","position":{"start":{"line":5,"column":1,"offset":374},"end":{"line":5,"column":287,"offset":660}}}],"position":{"start":{"line":5,"column":1,"offset":374},"end":{"line":5,"column":287,"offset":660}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.tradingview.com/x/MxMQdndj/"},"children":[{"type":"text","value":"https://www.tradingview.com/x/MxMQdndj/","position":{"start":{"line":7,"column":1,"offset":662},"end":{"line":7,"column":40,"offset":701}}}],"position":{"start":{"line":7,"column":1,"offset":662},"end":{"line":7,"column":40,"offset":701}}}],"position":{"start":{"line":7,"column":1,"offset":662},"end":{"line":7,"column":40,"offset":701}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"El segundo halving ocurrió el año 2016, la recompensa por bloque fue reducida de 25 a 12.5 Bitcoins. ","position":{"start":{"line":9,"column":1,"offset":703},"end":{"line":9,"column":102,"offset":804}}}],"position":{"start":{"line":9,"column":1,"offset":703},"end":{"line":9,"column":102,"offset":804}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"El tercer halvin ocurrirá el 12 de mayo del 2020, la recompensa por bloque da de 12.5 a 6.25 Bitcoin por bloque. ","position":{"start":{"line":11,"column":1,"offset":806},"end":{"line":11,"column":114,"offset":919}}}],"position":{"start":{"line":11,"column":1,"offset":806},"end":{"line":11,"column":114,"offset":919}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Viendo más gráficas y conociendo los ciclos del mercado, podemos notar que el halving ha marcado el inicio del mercado alcista (bull run) en el pasado","position":{"start":{"line":14,"column":1,"offset":922},"end":{"line":14,"column":151,"offset":1072}}}],"position":{"start":{"line":14,"column":1,"offset":922},"end":{"line":14,"column":151,"offset":1072}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Todo aquel consciente de lo importante que puede llegar a pasar este y el próximo año debido al halving vive en una ansiedad prolongada, emocionado por la llegada del mismo pero al mismo tiempo furioso por no tener mas tiempo para comprar mas satoshis. Atentos a lo que nos deparan los próximos años. ","position":{"start":{"line":19,"column":1,"offset":1077},"end":{"line":19,"column":302,"offset":1378}}}],"position":{"start":{"line":19,"column":1,"offset":1077},"end":{"line":19,"column":302,"offset":1378}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A few days ago, I read a post about ","position":{"start":{"line":25,"column":1,"offset":1384},"end":{"line":25,"column":37,"offset":1420}}},{"type":"element","tagName":"a","properties":{"href":"https://dev.to/gypsydave5/why-you-shouldnt-use-a-web-framework-3g24"},"children":[{"type":"text","value":"Why you shouldn't use a web framework","position":{"start":{"line":25,"column":38,"offset":1421},"end":{"line":25,"column":75,"offset":1458}}}],"position":{"start":{"line":25,"column":37,"offset":1420},"end":{"line":25,"column":145,"offset":1528}}},{"type":"text","value":" that gave me a bit of inspiration. Frameworks are great tools for full-fledged apps, but sometimes you don't need or want all the magic a framework provides.","position":{"start":{"line":25,"column":145,"offset":1528},"end":{"line":25,"column":303,"offset":1686}}}],"position":{"start":{"line":25,"column":1,"offset":1384},"end":{"line":25,"column":303,"offset":1686}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Full disclosure though, a much better solution to what we're building is better done in Phoenix by passing ","position":{"start":{"line":27,"column":1,"offset":1688},"end":{"line":27,"column":108,"offset":1795}}},{"type":"raw","value":"<code class=\"language-text\">--no-ecto --no-webpack</code>","position":{"start":{"line":27,"column":108,"offset":1795},"end":{"line":27,"column":132,"offset":1819}}},{"type":"text","value":" which would get you a much better, more stable, more efficient base in which to build upon.","position":{"start":{"line":27,"column":132,"offset":1819},"end":{"line":27,"column":224,"offset":1911}}}],"position":{"start":{"line":27,"column":1,"offset":1688},"end":{"line":27,"column":224,"offset":1911}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"But thats not the point of this tutorial. We're not fully replicating Phoenix, we're making this a super simple HTTP server. You can view the full implementation ","position":{"start":{"line":29,"column":1,"offset":1913},"end":{"line":29,"column":163,"offset":2075}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/matthewsecrist/TodoOTP-HTTP"},"children":[{"type":"text","value":"here","position":{"start":{"line":29,"column":164,"offset":2076},"end":{"line":29,"column":168,"offset":2080}}}],"position":{"start":{"line":29,"column":163,"offset":2075},"end":{"line":29,"column":217,"offset":2129}}},{"type":"text","value":".","position":{"start":{"line":29,"column":217,"offset":2129},"end":{"line":29,"column":218,"offset":2130}}}],"position":{"start":{"line":29,"column":1,"offset":1913},"end":{"line":29,"column":218,"offset":2130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Go ahead and open up a terminal and do ","position":{"start":{"line":31,"column":1,"offset":2132},"end":{"line":31,"column":40,"offset":2171}}},{"type":"raw","value":"<code class=\"language-text\">mix new todo --sup</code>","position":{"start":{"line":31,"column":40,"offset":2171},"end":{"line":31,"column":60,"offset":2191}}},{"type":"text","value":" which will get us a nice little project started with a Supervision tree. That will allow us to start the GenServer automatically when the application is ran.","position":{"start":{"line":31,"column":60,"offset":2191},"end":{"line":31,"column":218,"offset":2349}}}],"position":{"start":{"line":31,"column":1,"offset":2132},"end":{"line":31,"column":218,"offset":2349}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We'll start by building up the GenServer portion of it. We need to be able to do all CRUD functions in the app, so we'll make a file under ","position":{"start":{"line":33,"column":1,"offset":2351},"end":{"line":33,"column":140,"offset":2490}}},{"type":"raw","value":"<code class=\"language-text\">todo/elixir/lib/todo/</code>","position":{"start":{"line":33,"column":140,"offset":2490},"end":{"line":33,"column":163,"offset":2513}}},{"type":"text","value":" called ","position":{"start":{"line":33,"column":163,"offset":2513},"end":{"line":33,"column":171,"offset":2521}}},{"type":"raw","value":"<code class=\"language-text\">server.ex</code>","position":{"start":{"line":33,"column":171,"offset":2521},"end":{"line":33,"column":182,"offset":2532}}},{"type":"text","value":".","position":{"start":{"line":33,"column":182,"offset":2532},"end":{"line":33,"column":183,"offset":2533}}}],"position":{"start":{"line":33,"column":1,"offset":2351},"end":{"line":33,"column":183,"offset":2533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"server.ex","position":{"start":{"line":35,"column":3,"offset":2537},"end":{"line":35,"column":12,"offset":2546}}}],"position":{"start":{"line":35,"column":3,"offset":2537},"end":{"line":35,"column":12,"offset":2546}}},{"type":"text","value":"\n"}],"position":{"start":{"line":35,"column":1,"offset":2535},"end":{"line":35,"column":12,"offset":2546}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token keyword\">defmodule</span> Todo<span class=\"token punctuation\">.</span>Server <span class=\"token keyword\">do</span>\n\t<span class=\"token keyword\">use</span> GenServer\n\n\t<span class=\"token comment\"># Client</span>\n\t<span class=\"token keyword\">def</span> start_link<span class=\"token punctuation\">(</span>opts<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token keyword\">end</span>\n\n\t<span class=\"token keyword\">def</span> list<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token keyword\">end</span>\n\n\t<span class=\"token keyword\">def</span> add<span class=\"token punctuation\">(</span>todo<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token keyword\">end</span>\n\n\t<span class=\"token keyword\">def</span> remove<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token keyword\">end</span>\n\n\t<span class=\"token keyword\">def</span> toggle<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token keyword\">end</span>\n\n\t<span class=\"token comment\"># Server</span>\n<span class=\"token keyword\">end</span></code></pre></div>","position":{"start":{"line":37,"column":1,"offset":2548},"end":{"line":59,"column":4,"offset":2752}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"That lays out the client interface for us so that we can begin implementation. To start a GenServer, we call ","position":{"start":{"line":61,"column":1,"offset":2754},"end":{"line":61,"column":110,"offset":2863}}},{"type":"raw","value":"<code class=\"language-text\">start</code>","position":{"start":{"line":61,"column":110,"offset":2863},"end":{"line":61,"column":117,"offset":2870}}},{"type":"text","value":" or ","position":{"start":{"line":61,"column":117,"offset":2870},"end":{"line":61,"column":121,"offset":2874}}},{"type":"raw","value":"<code class=\"language-text\">start_link</code>","position":{"start":{"line":61,"column":121,"offset":2874},"end":{"line":61,"column":133,"offset":2886}}},{"type":"text","value":" which handles the call to ","position":{"start":{"line":61,"column":133,"offset":2886},"end":{"line":61,"column":160,"offset":2913}}},{"type":"raw","value":"<code class=\"language-text\">init</code>","position":{"start":{"line":61,"column":160,"offset":2913},"end":{"line":61,"column":166,"offset":2919}}},{"type":"text","value":".","position":{"start":{"line":61,"column":166,"offset":2919},"end":{"line":61,"column":167,"offset":2920}}}],"position":{"start":{"line":61,"column":1,"offset":2754},"end":{"line":61,"column":167,"offset":2920}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"server.ex","position":{"start":{"line":63,"column":3,"offset":2924},"end":{"line":63,"column":12,"offset":2933}}}],"position":{"start":{"line":63,"column":3,"offset":2924},"end":{"line":63,"column":12,"offset":2933}}},{"type":"text","value":"\n"}],"position":{"start":{"line":63,"column":1,"offset":2922},"end":{"line":63,"column":12,"offset":2933}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span> start_link<span class=\"token punctuation\">(</span>opts<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tGenServer<span class=\"token punctuation\">.</span>start_link<span class=\"token punctuation\">(</span>__MODULE__<span class=\"token punctuation\">,</span> <span class=\"token atom symbol\">:ok</span><span class=\"token punctuation\">,</span> opts<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token comment\"># Server</span>\n\n<span class=\"token keyword\">def</span> init<span class=\"token punctuation\">(</span><span class=\"token atom symbol\">:ok</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:ok</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">end</span></code></pre></div>","position":{"start":{"line":65,"column":1,"offset":2935},"end":{"line":77,"column":4,"offset":3072}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Going back to our Terminal, we can run our app by typing ","position":{"start":{"line":79,"column":1,"offset":3074},"end":{"line":79,"column":58,"offset":3131}}},{"type":"raw","value":"<code class=\"language-text\">iex -S mix</code>","position":{"start":{"line":79,"column":58,"offset":3131},"end":{"line":79,"column":70,"offset":3143}}},{"type":"text","value":" which will get a REPL. Inside, we can make sure our server starts by typing ","position":{"start":{"line":79,"column":70,"offset":3143},"end":{"line":79,"column":147,"offset":3220}}},{"type":"raw","value":"<code class=\"language-text\">Todo.Server.start_link([])</code>","position":{"start":{"line":79,"column":147,"offset":3220},"end":{"line":79,"column":175,"offset":3248}}},{"type":"text","value":", and you should get the following","position":{"start":{"line":79,"column":175,"offset":3248},"end":{"line":79,"column":209,"offset":3282}}}],"position":{"start":{"line":79,"column":1,"offset":3074},"end":{"line":79,"column":209,"offset":3282}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">iex(1)&gt; Todo.Server.start_link([])\n{:ok, #PID&lt;0.135.0&gt;}</code></pre></div>","position":{"start":{"line":81,"column":1,"offset":3284},"end":{"line":84,"column":4,"offset":3347}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The PID will likely be different for you, of course.","position":{"start":{"line":86,"column":1,"offset":3349},"end":{"line":86,"column":53,"offset":3401}}}],"position":{"start":{"line":86,"column":1,"offset":3349},"end":{"line":86,"column":53,"offset":3401}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can go ahead and make sure that the Todo Server starts when we run ","position":{"start":{"line":88,"column":1,"offset":3403},"end":{"line":88,"column":71,"offset":3473}}},{"type":"raw","value":"<code class=\"language-text\">iex -S mix</code>","position":{"start":{"line":88,"column":71,"offset":3473},"end":{"line":88,"column":83,"offset":3485}}},{"type":"text","value":". Go into ","position":{"start":{"line":88,"column":83,"offset":3485},"end":{"line":88,"column":93,"offset":3495}}},{"type":"raw","value":"<code class=\"language-text\">lib/todo/application.ex</code>","position":{"start":{"line":88,"column":93,"offset":3495},"end":{"line":88,"column":118,"offset":3520}}},{"type":"text","value":" and to the ","position":{"start":{"line":88,"column":118,"offset":3520},"end":{"line":88,"column":130,"offset":3532}}},{"type":"raw","value":"<code class=\"language-text\">start(_type, _args)</code>","position":{"start":{"line":88,"column":130,"offset":3532},"end":{"line":88,"column":151,"offset":3553}}},{"type":"text","value":" function already there.","position":{"start":{"line":88,"column":151,"offset":3553},"end":{"line":88,"column":175,"offset":3577}}}],"position":{"start":{"line":88,"column":1,"offset":3403},"end":{"line":88,"column":175,"offset":3577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"application.ex","position":{"start":{"line":90,"column":3,"offset":3581},"end":{"line":90,"column":17,"offset":3595}}}],"position":{"start":{"line":90,"column":3,"offset":3581},"end":{"line":90,"column":17,"offset":3595}}},{"type":"text","value":"\n"}],"position":{"start":{"line":90,"column":1,"offset":3579},"end":{"line":90,"column":17,"offset":3595}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span>  start<span class=\"token punctuation\">(</span>_type<span class=\"token punctuation\">,</span>  _args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tchildren <span class=\"token operator\">=</span>  <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{</span>Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">,</span>  <span class=\"token punctuation\">[</span><span class=\"token attr-name\">name:</span>  Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">]</span>\n<span class=\"token operator\">...</span></code></pre></div>","position":{"start":{"line":92,"column":1,"offset":3597},"end":{"line":99,"column":4,"offset":3704}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next, we'll implement the Add and List functions.","position":{"start":{"line":101,"column":1,"offset":3706},"end":{"line":101,"column":50,"offset":3755}}}],"position":{"start":{"line":101,"column":1,"offset":3706},"end":{"line":101,"column":50,"offset":3755}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"server.ex","position":{"start":{"line":103,"column":3,"offset":3759},"end":{"line":103,"column":12,"offset":3768}}}],"position":{"start":{"line":103,"column":3,"offset":3759},"end":{"line":103,"column":12,"offset":3768}}},{"type":"text","value":"\n"}],"position":{"start":{"line":103,"column":1,"offset":3757},"end":{"line":103,"column":12,"offset":3768}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span> list<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tGenServer<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">(</span>__MODULE__<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:list</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token keyword\">def</span> add<span class=\"token punctuation\">(</span>todo<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tGenServer<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">(</span>__MODULE__<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:add</span><span class=\"token punctuation\">,</span> todo<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token operator\">...</span>\n<span class=\"token comment\"># Server</span>\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span>  handle_call<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:list</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  _from<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:reply</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token keyword\">def</span> handle_call<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:add</span><span class=\"token punctuation\">,</span> todo<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> _from<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tnew_todo <span class=\"token operator\">=</span> <span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span><span class=\"token attr-name\">name:</span> todo<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">done:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">id:</span> generate_id<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\tnew_state <span class=\"token operator\">=</span> state <span class=\"token operator\">++</span> <span class=\"token punctuation\">[</span>new_todo<span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:reply</span><span class=\"token punctuation\">,</span> new_state<span class=\"token punctuation\">,</span> new_state<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token operator\">...</span>\n<span class=\"token comment\"># Private</span>\n<span class=\"token keyword\">defp</span> generate_id<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n<span class=\"token comment\"># This generates a basic ID for us, ends up being something</span>\n<span class=\"token comment\"># like \"CeiGYfspjHJAld42hI3OY1lbulxGkyR8W-zqXpkSMwpilPFtv0uE5jCW229-k47J\"</span>\n<span class=\"token comment\"># which will not completely prevent collisions, but will reduce</span>\n<span class=\"token comment\"># their chances.</span>\n\t<span class=\"token atom symbol\">:crypto</span><span class=\"token punctuation\">.</span>strong_rand_bytes<span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token operator\">|></span>  Base<span class=\"token punctuation\">.</span>url_encode64<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token operator\">|></span> binary_part<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">64</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span></code></pre></div>","position":{"start":{"line":105,"column":1,"offset":3770},"end":{"line":137,"column":4,"offset":4505}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notice that I'm using ","position":{"start":{"line":139,"column":1,"offset":4507},"end":{"line":139,"column":23,"offset":4529}}},{"type":"raw","value":"<code class=\"language-text\">call</code>","position":{"start":{"line":139,"column":23,"offset":4529},"end":{"line":139,"column":29,"offset":4535}}},{"type":"text","value":" here instead of ","position":{"start":{"line":139,"column":29,"offset":4535},"end":{"line":139,"column":46,"offset":4552}}},{"type":"raw","value":"<code class=\"language-text\">cast</code>","position":{"start":{"line":139,"column":46,"offset":4552},"end":{"line":139,"column":52,"offset":4558}}},{"type":"text","value":". This is because when we make our HTTP server, it will reply with the list of Todos with every response. We're not going to be dealing with holding any state on the front end, so we can't just reply with an ","position":{"start":{"line":139,"column":52,"offset":4558},"end":{"line":139,"column":260,"offset":4766}}},{"type":"raw","value":"<code class=\"language-text\">:ok</code>","position":{"start":{"line":139,"column":260,"offset":4766},"end":{"line":139,"column":265,"offset":4771}}},{"type":"text","value":".","position":{"start":{"line":139,"column":265,"offset":4771},"end":{"line":139,"column":266,"offset":4772}}}],"position":{"start":{"line":139,"column":1,"offset":4507},"end":{"line":139,"column":266,"offset":4772}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can then go back to our terminal again and ","position":{"start":{"line":141,"column":1,"offset":4774},"end":{"line":141,"column":47,"offset":4820}}},{"type":"raw","value":"<code class=\"language-text\">iex -S mix</code>","position":{"start":{"line":141,"column":47,"offset":4820},"end":{"line":141,"column":59,"offset":4832}}},{"type":"text","value":". Our GenServer should boot up with the application, so no need to call ","position":{"start":{"line":141,"column":59,"offset":4832},"end":{"line":141,"column":131,"offset":4904}}},{"type":"raw","value":"<code class=\"language-text\">start_link</code>","position":{"start":{"line":141,"column":131,"offset":4904},"end":{"line":141,"column":143,"offset":4916}}},{"type":"text","value":" this time. Lets try it out!","position":{"start":{"line":141,"column":143,"offset":4916},"end":{"line":141,"column":171,"offset":4944}}}],"position":{"start":{"line":141,"column":1,"offset":4774},"end":{"line":141,"column":171,"offset":4944}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">iex<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token attr-name\">done:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">id:</span> <span class=\"token string\">\"B9aMiHTT5CAqDWY8JyxV6QbmlRdiPyLopThv_EHARk4EwRFCyRG_Ip4q5NJv7NSh\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">name:</span> <span class=\"token string\">\"Hello\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\niex<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token attr-name\">done:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">id:</span> <span class=\"token string\">\"B9aMiHTT5CAqDWY8JyxV6QbmlRdiPyLopThv_EHARk4EwRFCyRG_Ip4q5NJv7NSh\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">name:</span> <span class=\"token string\">\"Hello\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>","position":{"start":{"line":143,"column":1,"offset":4946},"end":{"line":160,"column":4,"offset":5251}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Your response should look something like that. If it does, great! Lets move on to our ","position":{"start":{"line":162,"column":1,"offset":5253},"end":{"line":162,"column":87,"offset":5339}}},{"type":"raw","value":"<code class=\"language-text\">toggle(id)</code>","position":{"start":{"line":162,"column":87,"offset":5339},"end":{"line":162,"column":99,"offset":5351}}},{"type":"text","value":" function.","position":{"start":{"line":162,"column":99,"offset":5351},"end":{"line":162,"column":109,"offset":5361}}}],"position":{"start":{"line":162,"column":1,"offset":5253},"end":{"line":162,"column":109,"offset":5361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"server.ex","position":{"start":{"line":164,"column":3,"offset":5365},"end":{"line":164,"column":12,"offset":5374}}}],"position":{"start":{"line":164,"column":3,"offset":5365},"end":{"line":164,"column":12,"offset":5374}}},{"type":"text","value":"\n"}],"position":{"start":{"line":164,"column":1,"offset":5363},"end":{"line":164,"column":12,"offset":5374}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span>  toggle<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tGenServer<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">(</span>__MODULE__<span class=\"token punctuation\">,</span>  <span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:toggle</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span>  handle_call<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:toggle</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  _from<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t<span class=\"token punctuation\">[</span>todo<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span>  Enum<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span>  <span class=\"token keyword\">fn</span> x <span class=\"token operator\">-></span> x<span class=\"token punctuation\">.</span>id <span class=\"token operator\">==</span> id <span class=\"token keyword\">end</span><span class=\"token punctuation\">)</span>\n\ttoggled_todo <span class=\"token operator\">=</span> <span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>todo <span class=\"token operator\">|</span>  <span class=\"token attr-name\">done:</span>  <span class=\"token operator\">!</span>todo<span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">}</span>\n\tnew_state <span class=\"token operator\">=</span>\n\t\tstate\n\t\t<span class=\"token operator\">|></span>  Enum<span class=\"token punctuation\">.</span>map<span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> x <span class=\"token operator\">-></span>\n\t\t\t\t<span class=\"token keyword\">if</span> is_id?<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\t\t\t\t\ttoggled_todo\n\t\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\t\tx\n\t\t\t\t<span class=\"token keyword\">end</span>\n\t\t\t<span class=\"token keyword\">end</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:reply</span><span class=\"token punctuation\">,</span> new_state<span class=\"token punctuation\">,</span> new_state<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token operator\">...</span>\n<span class=\"token comment\"># Private</span>\n<span class=\"token keyword\">defp</span> is_id?<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> x<span class=\"token punctuation\">.</span>id <span class=\"token operator\">==</span> id</code></pre></div>","position":{"start":{"line":166,"column":1,"offset":5376},"end":{"line":189,"column":4,"offset":5818}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And again, we'll test it out.","position":{"start":{"line":191,"column":1,"offset":5820},"end":{"line":191,"column":30,"offset":5849}}}],"position":{"start":{"line":191,"column":1,"offset":5820},"end":{"line":191,"column":30,"offset":5849}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">iex<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>todo<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token attr-name\">done:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">id:</span> <span class=\"token string\">\"KTH7L3yoHNS_-ciwdLpMbmCtW62VY8xS_VPT62yVxdXv_ZQDb1GROVmjBV6oEage\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">name:</span> <span class=\"token string\">\"test\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\niex<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>toggle<span class=\"token punctuation\">(</span>todo<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token attr-name\">done:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">id:</span> <span class=\"token string\">\"KTH7L3yoHNS_-ciwdLpMbmCtW62VY8xS_VPT62yVxdXv_ZQDb1GROVmjBV6oEage\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">name:</span> <span class=\"token string\">\"test\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>","position":{"start":{"line":193,"column":1,"offset":5851},"end":{"line":210,"column":4,"offset":6170}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Wonderful! Next up, ","position":{"start":{"line":212,"column":1,"offset":6172},"end":{"line":212,"column":21,"offset":6192}}},{"type":"raw","value":"<code class=\"language-text\">remove(id)</code>","position":{"start":{"line":212,"column":21,"offset":6192},"end":{"line":212,"column":33,"offset":6204}}},{"type":"text","value":".","position":{"start":{"line":212,"column":33,"offset":6204},"end":{"line":212,"column":34,"offset":6205}}}],"position":{"start":{"line":212,"column":1,"offset":6172},"end":{"line":212,"column":34,"offset":6205}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"server.ex","position":{"start":{"line":214,"column":3,"offset":6209},"end":{"line":214,"column":12,"offset":6218}}}],"position":{"start":{"line":214,"column":3,"offset":6209},"end":{"line":214,"column":12,"offset":6218}}},{"type":"text","value":"\n"}],"position":{"start":{"line":214,"column":1,"offset":6207},"end":{"line":214,"column":12,"offset":6218}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span>  remove<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tGenServer<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">(</span>__MODULE__<span class=\"token punctuation\">,</span>  <span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:delete</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">def</span>  handle_call<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:delete</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  _from<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span>\n\tnew_state <span class=\"token operator\">=</span>\n\tstate\n\t<span class=\"token operator\">|></span>  Enum<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> x <span class=\"token operator\">-></span>\n\t\t\t<span class=\"token operator\">!</span>is_id?<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">end</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span><span class=\"token atom symbol\">:reply</span><span class=\"token punctuation\">,</span> new_state<span class=\"token punctuation\">,</span> new_state<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">end</span></code></pre></div>","position":{"start":{"line":216,"column":1,"offset":6220},"end":{"line":230,"column":4,"offset":6464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And we test..","position":{"start":{"line":232,"column":1,"offset":6466},"end":{"line":232,"column":14,"offset":6479}}}],"position":{"start":{"line":232,"column":1,"offset":6466},"end":{"line":232,"column":14,"offset":6479}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">iex<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>todo<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">%</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token attr-name\">done:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">id:</span> <span class=\"token string\">\"RpfnxF-YJE_A4FgsQFtg1ODhRcY90lxkSG0U0DHlVDvAfN_zDOJOVXPEkjuBAPsz\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token attr-name\">name:</span> <span class=\"token string\">\"test\"</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\niex<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>todo<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\niex<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> Todo<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre></div>","position":{"start":{"line":234,"column":1,"offset":6481},"end":{"line":247,"column":4,"offset":6719}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Great, that makes up our abilities to add, toggle, remove and list Todos in a GenServer app. Next, we'll make our HTTP server.","position":{"start":{"line":249,"column":1,"offset":6721},"end":{"line":249,"column":127,"offset":6847}}}],"position":{"start":{"line":249,"column":1,"offset":6721},"end":{"line":249,"column":127,"offset":6847}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://www.matthewsecrist.net//building-a-basic-http-server-with-elixir-p2/"},"children":[{"type":"text","value":"Check out part 2 here","position":{"start":{"line":251,"column":2,"offset":6850},"end":{"line":251,"column":23,"offset":6871}}}],"position":{"start":{"line":251,"column":1,"offset":6849},"end":{"line":251,"column":101,"offset":6949}}}],"position":{"start":{"line":251,"column":1,"offset":6849},"end":{"line":251,"column":101,"offset":6949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Have any questions or comments? Feel free to send me a ","position":{"start":{"line":253,"column":1,"offset":6951},"end":{"line":253,"column":56,"offset":7006}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/_mattsecrist"},"children":[{"type":"text","value":"tweet","position":{"start":{"line":253,"column":57,"offset":7007},"end":{"line":253,"column":62,"offset":7012}}}],"position":{"start":{"line":253,"column":56,"offset":7006},"end":{"line":253,"column":97,"offset":7047}}},{"type":"text","value":"!","position":{"start":{"line":253,"column":97,"offset":7047},"end":{"line":253,"column":98,"offset":7048}}}],"position":{"start":{"line":253,"column":1,"offset":6951},"end":{"line":253,"column":98,"offset":7048}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":254,"column":1,"offset":7049}}}}